<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <h1>Admin Dashboard</h1>
  <a href="/">Back to Home</a>

  <section>
    <h2>Users</h2>
    <table border="1" cellpadding="5">
      <tr><th>ID</th><th>Username</th><th>Email</th><th>Role</th><th>Action</th></tr>
      <% users.forEach(u => { %>
        <tr>
          <td><%= u.id %></td>
          <td><%= u.username %></td>
          <td><%= u.email %></td>
          <td><%= u.role %></td>
          <td>
            <% if (u.role !== "admin") { %>
              <a href="/admin/delete/user/<%= u.id %>">Delete</a>
            <% } %>
          </td>
        </tr>
      <% }) %>
    </table>
  </section>

  <hr>

  <section>
    <h2>Posts</h2>
    <table border="1" cellpadding="5">
      <tr><th>Title</th><th>Author</th><th>Action</th></tr>
      <% posts.forEach(p => { %>
        <tr>
          <td><%= p.title %></td>
          <td><%= p.User.username %></td>
          <td><a href="/admin/delete/post/<%= p.id %>">Delete</a></td>
        </tr>
      <% }) %>
    </table>
  </section>
</body>
</html>
